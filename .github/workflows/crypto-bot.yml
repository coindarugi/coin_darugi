name: Crypto Bot Workflow

on:
  schedule:
    # Run every 8 hours (00:00, 08:00, 16:00 UTC)
    - cron: '0 0,8,16 * * *'
  workflow_dispatch:
    inputs:
      language:
        description: 'Select language for bot execution'
        required: true
        default: 'english'
        type: choice
        options:
          - korean
          - english
          - french
          - german
          - spanish
          - japanese
          - chinese

jobs:
  crypto-bot:
    runs-on: ubuntu-latest
    
    strategy:
      matrix:
        language: 
          - korean
          - english
          - french
          - german
          - spanish
          - japanese
          - chinese
    
    steps:
      - name: Checkout repository
        uses: actions/checkout@v4
      
      - name: Set up Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.11'
      
      - name: Install dependencies
        run: |
          python -m pip install --upgrade pip
          if [ -f requirements.txt ]; then pip install -r requirements.txt; fi
      
      - name: Run crypto bot for ${{ matrix.language }}
        run: |
          echo "Running crypto bot for language: ${{ matrix.language }}"
          # Add your bot execution command here
          # python bot.py --language ${{ matrix.language }}
        env:
          LANGUAGE: ${{ matrix.language }}
      
      - name: Handle manual trigger
        if: github.event_name == 'workflow_dispatch'
        run: |
          echo "Manual trigger detected for language: ${{ github.event.inputs.language }}"
          # Add custom logic for manual trigger if needed
